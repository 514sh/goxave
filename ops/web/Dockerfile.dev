FROM node:22.17.1-alpine

WORKDIR /app

COPY package* ./
RUN npm install

ARG VITE_ALLOWED_HOST
ENV VITE_ALLOWED_HOST=$VITE_ALLOWED_HOST

ARG VITE_HOST
ENV VITE_HOST=$VITE_HOST

ARG VITE_PORT
ENV VITE_PORT=$VITE_PORT

ARG VITE_API_PORT
ENV VITE_API_PORT=$VITE_API_PORT

COPY . .
RUN npm run build
